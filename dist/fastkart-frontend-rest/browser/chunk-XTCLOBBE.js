import{f as $}from"./chunk-GXPE5EKO.js";import{ba as y,da as C,oa as v,pb as L,r as _,s as B,t as p,ta as D,u as T,za as F}from"./chunk-FNZXTLOY.js";import{B as f,Bc as S,Hc as O,Ic as I,Lc as w,Ra as b,Rc as E,Y as u,a as h,b as c,ca as g,fa as a,m as o}from"./chunk-37HN4E3D.js";var U=(()=>{class s{static{this.type="[Brand] Get"}constructor(e){this.payload=e}}return s})(),A=(()=>{class s{static{this.type="[Brand] Get Brand By Slug"}constructor(e){this.slug=e}}return s})();var x=(()=>{class s{constructor(e){this.http=e}getBrands(e){return this.http.get(`${y.URL}/brand`,{params:e})}getBrandBySlug(e){return this.http.get(`${y.URL}/brand/slug/${e}`)}static{this.\u0275fac=function(i){return new(i||s)(a(S))}}static{this.\u0275prov=g({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})();var m=class l{constructor(t){this.brandService=t}static brand(t){return t.brand}static selectedBrand(t){return t.selectedBrand}getBrands(t,e){return this.brandService.getBrands(e.payload).pipe(u({next:i=>{t.patchState({brand:{data:i.data,total:i?.total?i?.total:i.data?.length}})},error:i=>{throw new Error(i?.error?.message)}}))}getBrandBySlug(t,e){return this.brandService.getBrandBySlug(e.slug).pipe(u({next:i=>{let r=t.getState();t.patchState(c(h({},r),{selectedBrand:i}))},error:i=>{throw new Error(i?.error?.message)}}))}static{this.\u0275fac=function(e){return new(e||l)(a(x))}}static{this.\u0275prov=g({token:l,factory:l.\u0275fac})}};o([_(U)],m.prototype,"getBrands",null);o([_(A)],m.prototype,"getBrandBySlug",null);o([T()],m,"brand",null);o([T()],m,"selectedBrand",null);m=o([B({name:"brand",defaults:{brand:{data:[],total:0},selectedBrand:null}})],m);var n=class s{constructor(t,e,i,r){this.meta=t,this.router=e,this.titleService=i,this.ngZone=r,this.currentMessageIndex=0,this.delay=1e3,this.isTabInFocus=!0,this.scoContent={},this.DEFAULT_TITLE="Ultimate Fashion Hub | Men's Fashion | Women's Fashion | Sports Fashion",this.DEFAULT_DESCRIPTION="Fashion with Trends serves all your curated-fashion needs including men's fashion, women's fashion, and sportswear categories that match your personality and elevate your everyday look.",this.router.events.pipe(f(d=>d instanceof w)).subscribe(d=>{this.path=d.url,this.updateSeo(this.path)}),this.fetchData()}fetchData(){this.setting$.subscribe(t=>this.setting=t),this.product$.subscribe(t=>this.product=t),this.blog$.subscribe(t=>this.blog=t),this.page$.subscribe(t=>this.page=t),this.brand$.subscribe(t=>this.brand=t),this.category$.subscribe(t=>this.category=t),this.themeOption$.subscribe(t=>{this.themeOption=t})}updateSeo(t){t.includes("product")?(this.product&&(this.scoContent={url:window.location.href,og_title:this.product.meta_title||this.themeOption?.seo?.meta_title||this.DEFAULT_TITLE,og_description:this.product.meta_description||this.themeOption?.seo?.meta_description||this.DEFAULT_DESCRIPTION,og_image:this.product.product_meta_image?.original_url||this.themeOption?.seo?.og_image?.original_url}),this.customSCO()):t.includes("blog")?this.blog&&(this.scoContent=c(h({},this.scoContent),{url:window.location.href,og_title:this.blog?.meta_title||this.themeOption?.seo?.meta_title||this.DEFAULT_TITLE,og_description:this.blog?.meta_description||this.themeOption?.seo?.meta_description||this.DEFAULT_DESCRIPTION,og_image:this.blog?.blog_meta_image?.original_url||this.themeOption?.seo?.og_image?.original_url}),this.customSCO()):t.includes("page")?(this.page&&(this.scoContent=c(h({},this.scoContent),{url:window.location.href,og_title:this.page?.meta_title||this.themeOption?.seo?.meta_title||this.DEFAULT_TITLE,og_description:this.page?.meta_description||this.themeOption?.seo?.meta_description||this.DEFAULT_DESCRIPTION,og_image:this.page?.page_meta_image?.original_url||this.themeOption?.seo?.og_image?.original_url})),this.customSCO()):t.includes("brand")?(this.brand&&(this.scoContent=c(h({},this.scoContent),{url:window.location.href,og_title:this.brand?.meta_title||this.themeOption?.seo?.meta_title||this.DEFAULT_TITLE,og_description:this.brand?.meta_description||this.themeOption?.seo?.meta_description||this.DEFAULT_DESCRIPTION,og_image:this.brand?.brand_meta_image?.original_url||this.themeOption?.seo?.og_image?.original_url})),this.customSCO()):t.includes("category")||t.includes("collections")?(this.category&&(this.scoContent=c(h({},this.scoContent),{url:window.location.href,og_title:this.category?.meta_title||this.themeOption?.seo?.meta_title||this.DEFAULT_TITLE,og_description:this.category?.meta_description||this.themeOption?.seo?.meta_description||this.DEFAULT_DESCRIPTION,og_image:this.category?.category_meta_image?.original_url||this.themeOption?.seo?.og_image?.original_url})),this.customSCO()):this.updateDefaultSeo()}updateDefaultSeo(){let t=this.themeOption?.seo?.meta_title||this.DEFAULT_TITLE,e=this.themeOption?.seo?.meta_description||this.DEFAULT_DESCRIPTION,i=this.themeOption?.seo?.og_image?.original_url||"",r=window.location.href;if(this.meta.updateTag({name:"title",content:t}),this.meta.updateTag({name:"description",content:e}),this.meta.updateTag({property:"og:type",content:"website"}),this.meta.updateTag({property:"og:url",content:r}),this.meta.updateTag({property:"og:title",content:t}),this.meta.updateTag({property:"og:description",content:e}),this.meta.updateTag({property:"og:image",content:i}),this.meta.updateTag({property:"twitter:card",content:"summary_large_image"}),this.meta.updateTag({property:"twitter:url",content:r}),this.meta.updateTag({property:"twitter:title",content:t}),this.meta.updateTag({property:"twitter:description",content:e}),this.meta.updateTag({property:"twitter:image",content:i}),this.themeOption?.general&&this.themeOption?.general?.exit_tagline_enable)document.addEventListener("visibilitychange",()=>{this.messages=this.themeOption.general.taglines,this.ngZone.run(()=>{if(this.isTabInFocus=!document.hidden,this.isTabInFocus)return clearTimeout(this.timeoutId),this.titleService.setTitle(this.themeOption?.general?.site_title&&this.themeOption?.general?.site_tagline?`${this.themeOption?.general?.site_title} | ${this.themeOption?.general?.site_tagline}`:t);this.updateMessage()})}),this.scoContent=c(h({},this.scoContent),{url:r,og_title:t,og_description:e,og_image:i}),this.customSCO();else return this.titleService.setTitle(this.themeOption?.general?.site_title&&this.themeOption?.general?.site_tagline?`${this.themeOption?.general?.site_title} | ${this.themeOption?.general?.site_tagline}`:t)}customSCO(){let t=this.scoContent.og_title||this.DEFAULT_TITLE,e=this.scoContent.og_description||this.DEFAULT_DESCRIPTION,i=this.scoContent.url||window.location.href,r=this.scoContent.og_image||"";this.titleService.setTitle(t),this.meta.updateTag({name:"title",content:t}),this.meta.updateTag({name:"description",content:e}),this.meta.updateTag({property:"og:type",content:"website"}),this.meta.updateTag({property:"og:url",content:i}),this.meta.updateTag({property:"og:title",content:t}),this.meta.updateTag({property:"og:description",content:e}),this.meta.updateTag({property:"og:image",content:r}),this.meta.updateTag({property:"twitter:card",content:"summary_large_image"}),this.meta.updateTag({property:"twitter:url",content:i}),this.meta.updateTag({property:"twitter:title",content:t}),this.meta.updateTag({property:"twitter:description",content:e}),this.meta.updateTag({property:"twitter:image",content:r})}updateMessage(){clearTimeout(this.timeoutId),this.currentMessage=this.messages[this.currentMessageIndex],this.titleService.setTitle(this.currentMessage),this.currentMessageIndex=(this.currentMessageIndex+1)%this.messages.length,this.timeoutId=setTimeout(()=>{this.updateMessage()},this.delay)}ngOnDestroy(){clearTimeout(this.timeoutId)}static{this.\u0275fac=function(e){return new(e||s)(a(O),a(E),a(I),a(b))}}static{this.\u0275prov=g({token:s,factory:s.\u0275fac,providedIn:"root"})}};o([p(C.themeOptions)],n.prototype,"themeOption$",void 0);o([p(F.setting)],n.prototype,"setting$",void 0);o([p(v.selectedProduct)],n.prototype,"product$",void 0);o([p(D.selectedBlog)],n.prototype,"blog$",void 0);o([p(m.selectedBrand)],n.prototype,"brand$",void 0);o([p($.selectedPage)],n.prototype,"page$",void 0);o([p(L.selectedCategory)],n.prototype,"category$",void 0);export{U as a,A as b,m as c,n as d};
